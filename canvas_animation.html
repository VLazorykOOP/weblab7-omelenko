<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SVG Графік з анімацією</title>
</head>
<body>
    <div class="container">
        <h1>Canvas з Анімацією</h1>
        
        <canvas id="myCanvas" width="500" height="400" style="border: 1px solid #d3d3d3;"></canvas>
    </div>
</body>
<script>
        const canvas = document.getElementById('myCanvas');
        const ctx = canvas.getContext('2d');
        
        let animationRunning = true;
        let animationFrame;
        let rotation = 0;
        let rotationSpeed = 0.02;
        let scale = 1;
        let scaleDirection = 1;
        let translateY = 0;
        let translateDirection = 1;
        
        let currentColors = { primary: '#2196f3', secondary: '#1976d2', accent: '#64b5f6' }
        
        function drawCoordinateSystem() {
            ctx.save();
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            
            ctx.beginPath();
            ctx.moveTo(30, 200);
            ctx.lineTo(520, 200);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.moveTo(520, 200);
            ctx.lineTo(515, 195);
            ctx.lineTo(515, 205);
            ctx.closePath();
            ctx.fillStyle = '#333';
            ctx.fill();
            
            ctx.beginPath();
            ctx.moveTo(100, 400);
            ctx.lineTo(100, 30);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.moveTo(100, 30);
            ctx.lineTo(95, 35);
            ctx.lineTo(105, 35);
            ctx.closePath();
            ctx.fill();
            
            ctx.fillStyle = '#333';
            ctx.font = 'bold 16px Arial';

            ctx.fillText('0', 105, 195);
            
            ctx.fillText('1', 155, 195);
            ctx.fillText('2', 205, 195);
            ctx.fillText('3', 255, 195);
            ctx.fillText('4', 305, 195);
            ctx.fillText('5', 355, 195);
            ctx.fillText('6', 405, 195);
            ctx.fillText('x', 525, 205);
            ctx.fillText('-1', 105, 250);
            ctx.fillText('-2', 105, 290);

            ctx.fillText('1', 105, 150);
            ctx.fillText('2', 105, 110);
            ctx.fillText('3', 105, 70);
            ctx.fillText('y', 105, 25);
            ctx.fillText('-1', 105, 250);
            ctx.fillText('-2', 105, 290);
            ctx.fillText('-3', 105, 330);
            ctx.fillText('-4', 105, 370);
            
            ctx.restore();
        }
        
        function drawShapes() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
            gradient.addColorStop(0, '#f0f8ff');
            gradient.addColorStop(1, '#e6f3ff');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            drawCoordinateSystem();
            
            ctx.save();
            
            ctx.save();
            ctx.translate(125, 75 + translateY);
            ctx.rotate(rotation);
            ctx.fillStyle = currentColors.primary;
            ctx.fillRect(-25, -25, 50, 50);
            ctx.strokeStyle = currentColors.primary;
            ctx.lineWidth = 3;
            ctx.strokeRect(-25, -25, 50, 50);
            ctx.restore();
            
            ctx.save();
            ctx.translate(125, 175);
            ctx.scale(scale, scale);
            ctx.fillStyle = currentColors.accent;
            ctx.beginPath();
            ctx.arc(0, 0, 25, 0, Math.PI * 2);
            ctx.fill();
            ctx.strokeStyle = currentColors.accent;
            ctx.lineWidth = 2;
            ctx.stroke();
            ctx.restore();
            
            ctx.save();
            ctx.fillStyle = currentColors.primary;
            ctx.beginPath();
            ctx.moveTo(100, 300);
            ctx.lineTo(150, 300);
            ctx.lineTo(125, 250 - Math.abs(translateY));
            ctx.closePath();
            ctx.fill();
            ctx.strokeStyle = currentColors.primary;
            ctx.lineWidth = 2;
            ctx.stroke();
            ctx.restore();
            
            ctx.save();
            ctx.translate(175, 325);
            ctx.rotate(-rotation * 2);
            ctx.fillStyle = currentColors.secondary;
            ctx.fillRect(-25, -25, 50, 50);
            ctx.restore();
            
            ctx.save();
            ctx.translate(250, 200);
            ctx.scale(1, scale);
            ctx.fillStyle = currentColors.accent;
            ctx.beginPath();
            ctx.ellipse(0, 0, 50, 100, 0, 0, Math.PI * 2);
            ctx.fill();
            ctx.strokeStyle = currentColors.accent;
            ctx.lineWidth = 2;
            ctx.stroke();
            ctx.restore();
            
            ctx.save();
            ctx.translate(325, 325);
            ctx.transform(1, 0, Math.sin(rotation * 3), 1, 0, 0);
            ctx.fillStyle = currentColors.primary;
            ctx.fillRect(-25, -25, 50, 50);
            ctx.restore();
            
            ctx.save();
            ctx.fillStyle = currentColors.secondary;
            ctx.fillRect(200, 25, 100, 50);
            ctx.restore();
            
            ctx.fillStyle = currentColors.primary;
            ctx.fillRect(350, 75, 50, 50);
            
            ctx.fillStyle = currentColors.accent;
            ctx.beginPath();
            ctx.arc(375, 175, 25, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.fillStyle = currentColors.primary;
            ctx.beginPath();
            ctx.moveTo(350, 300);
            ctx.lineTo(400, 300);
            ctx.lineTo(375, 250);
            ctx.closePath();
            ctx.fill();
            
            ctx.restore();
        }
        
        function animate() {
            if (!animationRunning) return;
            
            rotation += rotationSpeed;
            
            scale += 0.01 * scaleDirection;
            if (scale > 1.3 || scale < 0.7) {
                scaleDirection *= -1;
            }
            
            translateY += 0.5 * translateDirection;
            if (translateY > 30 || translateY < -30) {
                translateDirection *= -1;
            }
            
            drawShapes();
            animationFrame = requestAnimationFrame(animate);
        }
        
        function resetAnimation() {
            rotation = 0;
            scale = 1;
            translateY = 0;
            scaleDirection = 1;
            translateDirection = 1;
            rotationSpeed = 0.02;
            particles = [];
            explosionActive = false;
            drawShapes();
        }
        
        drawShapes();
        animate();
    </script>
</html>

